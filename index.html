<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„ GitHub</title>
<style>
body{font-family:sans-serif;background:#f4f6f9;padding:30px;color:#111}
.card{max-width:720px;margin:0 auto;background:#fff;padding:18px;border-radius:8px;box-shadow:0 8px 30px rgba(0,0,0,0.06)}
input,textarea,button{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ddd;box-sizing:border-box}
button{background:#2563eb;color:#fff;border:none;cursor:pointer;padding:10px}
.small{font-size:13px;color:#666}
a.link{color:#2563eb}
</style>
</head>
<body>
<div class="card">
  <h2>ğŸ“‚ ÙˆØ¨â€ŒÙ¾Ù†Ù„ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø¯Ø± GitHub</h2>

  <label>Filename</label>
  <input id="filename" placeholder="index.html">

  <label>Content</label>
  <textarea id="content" rows="4">&lt;h1&gt;Ø³Ù„Ø§Ù… Ø§Ø² Parham&lt;/h1&gt;</textarea>

  <button id="createBtn">Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ ğŸš€</button>

  <h4>Ù†ØªÛŒØ¬Ù‡</h4>
  <pre id="out"></pre>
</div>

<script>
const out = document.getElementById('out');

document.getElementById('createBtn').addEventListener('click', async () => {
  const filename = document.getElementById('filename').value.trim();
  const content = document.getElementById('content').value;

  if(!filename || !content){
    out.textContent = "âš ï¸ Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ùˆ Ù…Ø­ØªÙˆØ§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.";
    return;
  }

  out.textContent = "â³ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ GitHub Actions Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯...";

  try {
    const workflowURL = "https://api.github.com/repos/rdnsparham-rgb/V1/actions/workflows/cpanel-like.yml/dispatches";
    const res = await fetch(workflowURL, {
      method: "POST",
      headers: {
        "Accept":"application/vnd.github+json",
        "Authorization":"Bearer ghp_dummy" // placeholder: ØªÙˆÚ©Ù† ÙˆØ§Ù‚Ø¹ÛŒ Ø¯Ø§Ø®Ù„ workflow Ù‡Ø³Øª
      },
      body: JSON.stringify({
        ref: "main",
        inputs: { filename, content }
      })
    });

    if(res.ok){
      out.textContent = "âœ… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!\nÙØ§ÛŒÙ„ Ø¯Ø± Ù¾ÙˆØ´Ù‡ Ø±Ù†Ø¯Ù… Ø³Ø§Ø®ØªÙ‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.\nÙ„ÛŒÙ†Ú© GitHub Pages Ø¨Ø¹Ø¯ Ø§Ø² Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù†: https://rdnsparham-rgb.github.io/V1/<RAND>/<filename>";
    } else {
      const data = await res.json();
      out.textContent = `âŒ Ø®Ø·Ø§: ${data.message}`;
    }
  } catch(e){
    out.textContent = "âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ GitHub: " + e.message;
  }
});
</script>
</body>
</html>
