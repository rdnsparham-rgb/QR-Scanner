<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>وب‌پنل ساخت فایل 🚀</title>
<style>
body{
  background:#0d1117;
  color:white;
  font-family:sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
}
button{
  background:#238636;
  color:white;
  border:none;
  padding:10px 20px;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
}
button:hover{background:#2ea043;}
#result{margin-top:20px;}
</style>
</head>
<body>

<h2>ساخت فایل جدید در GitHub 🚀</h2>
<button onclick="createFile()">ساخت فایل</button>
<div id="result"></div>

<script>
async function createFile(){
  const rand = Array.from({length:7},()=>String.fromCharCode(65+Math.floor(Math.random()*26))).join('');
  const filename = "info.txt";
  const content = btoa("ساخته شده با وب‌پنل Parham 😎");
  const repo = "rdnsparham-rgb/V1";
  const branch = "main";

  const url = `https://api.github.com/repos/${repo}/contents/V1/${rand}/${filename}`;
  const token = "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"; // ⚠️ توکن شخصی خودت را اینجا بگذار

  const res = await fetch(url,{
    method:"PUT",
    headers:{
      "Authorization":`Bearer ${token}`,
      "Accept":"application/vnd.github+json",
      "Content-Type":"application/json"
    },
    body:JSON.stringify({
      message:`Create new file in ${rand}`,
      content:content,
      branch:branch
    })
  });

  const data = await res.json();
  const result = document.getElementById("result");

  if(res.ok){
    result.innerHTML = `
    ✅ فایل ساخته شد!<br>
    <a href="https://rdnsparham-rgb.github.io/V1/${rand}/${filename}" target="_blank" style="color:#58a6ff">
      https://rdnsparham-rgb.github.io/V1/${rand}/${filename}
    </a>`;
  }else{
    result.innerHTML = `❌ خطا: ${data.message || "نامشخص"}`;
  }
}
</script>
</body>
</html>
